---
import Layout from '../layouts/Layout.astro';
import CollectionGrid from './CollectionGrid.astro';
import { getCollection } from 'astro:content';
import { sortCollectionItems } from '../utils/sorting';
import type { CollectionType } from '../utils/routes';

export interface Props {
  collection: CollectionType;
  title: string;
  description?: string;
}

const { collection, title, description } = Astro.props;

const items = sortCollectionItems(await getCollection(collection), collection);

const fullTitle = collection === 'mixes' || collection === 'archive' 
  ? `${title} - Places` 
  : title;
---

<Layout title={fullTitle} description={description} variant="wide">
    <h1 class="text-2xl mb-8">{title}</h1>
    
    <CollectionGrid items={items} collection={collection} showCount={false} />
</Layout>